1. 参考 https://www.jianshu.com/p/9be4df54e32e
2. 
```python
import numpy as np
import matplotlib.pyplot as plt 
from sklearn import datasets

digists=datasets.load_digits()#加载数据
digists.keys()
################################################################
结果：
dict_keys(['data', 'target', 'target_names', 'images', 'DESCR'])
################################################################

digists.target
################################################################
结果：
array([0, 1, 2, ..., 8, 9, 8])
################################################################

digists.target_names#类别
################################################################
结果：
array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
################################################################

digists.data
################################################################
结果：
array([[ 0.,  0.,  5., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ..., 10.,  0.,  0.],
       [ 0.,  0.,  0., ..., 16.,  9.,  0.],
       ...,
       [ 0.,  0.,  1., ...,  6.,  0.,  0.],
       [ 0.,  0.,  2., ..., 12.,  0.,  0.],
       [ 0.,  0., 10., ..., 12.,  1.,  0.]])
################################################################

some_digists=X[666]
some_digists
################################################################
结果：
array([ 0.,  0.,  5., 15., 14.,  3.,  0.,  0.,  0.,  0., 13., 15.,  9.,
       15.,  2.,  0.,  0.,  4., 16., 12.,  0., 10.,  6.,  0.,  0.,  8.,
       16.,  9.,  0.,  8., 10.,  0.,  0.,  7., 15.,  5.,  0., 12., 11.,
        0.,  0.,  7., 13.,  0.,  5., 16.,  6.,  0.,  0.,  0., 16., 12.,
       15., 13.,  1.,  0.,  0.,  0.,  6., 16., 12.,  2.,  0.,  0.])
################################################################

some_digits_image=some_digists.reshape((8,8))
some_digits_image
################################################################
结果：
array([[ 0.,  0.,  5., 15., 14.,  3.,  0.,  0.],
       [ 0.,  0., 13., 15.,  9., 15.,  2.,  0.],
       [ 0.,  4., 16., 12.,  0., 10.,  6.,  0.],
       [ 0.,  8., 16.,  9.,  0.,  8., 10.,  0.],
       [ 0.,  7., 15.,  5.,  0., 12., 11.,  0.],
       [ 0.,  7., 13.,  0.,  5., 16.,  6.,  0.],
       [ 0.,  0., 16., 12., 15., 13.,  1.,  0.],
       [ 0.,  0.,  6., 16., 12.,  2.,  0.,  0.]])
################################################################

plt.imshow(some_digits_image,cmap = matplotlib.cm.binary)
plt.show()（图见链接，黑白图）


X_train,y_trian,X_text,y_text=train_test_split(X,y,0.3)#训练及测试
print(X_train.shape)
print(y_trian.shape)
print(X_text.shape)
print(y_text.shape)
################################################################
结果：
(1438, 64)
(1438,)
(359, 64)
(359,)
################################################################

knn=KNeighborsClassifier(3)
knn.fit(X_train,y_trian)
y_predict=knn.predict(X_text)
sum(y_predict==y_text)#相等的数
################################################################
结果：
356
################################################################

sum(y_predict==y_text)/len(y_text)#相等的比率
################################################################
结果：
0.9916434540389972
################################################################
```
3. 接下来我们把计算比率的方法封装
```python
def accuracy_score(y_true, y_predict):
    '''计算y_true和y_predict之间的准确率'''
    assert y_true.shape[0] == y_predict.shape[0], \
        "the size of y_true must be equal to the size of y_predict"

    return sum(y_true == y_predict) / len(y_true)


测试：
X_train,y_trian,X_text,y_text=train_test_split(X,y,0.3)
knn=KNeighborsClassifier(3)
knn.fit(X_train,y_trian)
y_predict=knn.predict(X_text)
accuracy_score(y_text,y_predict)
################################################################
结果：
0.9916434540389972
################################################################
```
4. 直接预测并计算
```python
def score(self, X_test, y_test):
        """根据测试数据集 X_test 和 y_test 确定当前模型的准确度"""

        y_predict = self.predict(X_test)
        return accuracy_score(y_test, y_predict)
        
 测试：
X_train,y_trian,X_text,y_text=train_test_split(X,y,0.3)
knn=KNeighborsClassifier(3)
knn.fit(X_train,y_trian)
knn.score(X_text,y_text)

################################################################
结果：
0.9916434540389972
################################################################
```
